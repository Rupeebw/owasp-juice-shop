Self-Hosted GitHub Actions Runner Explained

  What is a Self-Hosted Runner?

  A self-hosted runner is a GitHub Actions runner that you install and manage on your
  own machine (laptop, server, or VM) instead of using GitHub's cloud-hosted runners.

  How It Works

  Normal GitHub Actions (Cloud):

  Your Code â†’ GitHub â†’ GitHub's Cloud Runner â†’ Run Pipeline
                                  â†“
                           (Cannot access your local Kind cluster)

  Self-Hosted Runner (Local):

  Your Code â†’ GitHub â†’ YOUR LAPTOP (Runner) â†’ Run Pipeline
                                  â†“
                      (CAN access your local Kind cluster!)

  Setup Process

  Step 1: Install Runner on Your Laptop

  # Create a directory for the runner
  mkdir ~/actions-runner && cd ~/actions-runner

  # Download the runner (macOS example)
  curl -o actions-runner-osx-x64-2.311.0.tar.gz -L \
    https://github.com/actions/runner/releases/download/v2.311.0/actions-runner-osx-x64
  -2.311.0.tar.gz

  # Extract it
  tar xzf actions-runner-osx-x64-2.311.0.tar.gz

  # Configure the runner
  ./config.sh --url https://github.com/YOUR_USERNAME/YOUR_REPO --token YOUR_TOKEN

  # Install and start the runner as a service
  ./svc.sh install
  ./svc.sh start

  Step 2: Modify Your Pipeline

  # .github/workflows/simple-pipeline.yml
  name: Simple Pipeline with K8s Deployment

  on: [push]

  jobs:
    # Stage 1-4: Same as before (Lint, Test, Build, Push to Docker Hub)
    # These still run on GitHub's cloud runners

    lint:
      runs-on: ubuntu-latest
      # ... existing lint steps

    test:
      runs-on: ubuntu-latest
      needs: lint
      # ... existing test steps

    build:
      runs-on: ubuntu-latest
      needs: test
      # ... existing build steps

    push-to-dockerhub:
      runs-on: ubuntu-latest
      needs: build
      # ... existing Docker Hub push steps

    # NEW Stage 5: Deploy to Local Kind Cluster
    deploy-to-kind:
      name: Deploy to Kind Cluster
      runs-on: self-hosted  # â† This runs on YOUR LAPTOP
      needs: push-to-dockerhub

      steps:
        - name: Checkout code
          uses: actions/checkout@v4

        - name: Verify Kind cluster is running
          run: |
            kubectl cluster-info
            kubectl get nodes

        - name: Deploy to Kubernetes
          run: |
            # Apply K8s manifests
            kubectl apply -f k8s/deployment.yaml
            kubectl apply -f k8s/service.yaml

            # Wait for deployment
            kubectl rollout status deployment/juice-shop

            # Show deployed pods
            kubectl get pods -l app=juice-shop

        - name: Get service URL
          run: |
            echo "ğŸ‰ Deployment successful!"
            echo "Access at: http://localhost:30080"

  Complete Flow

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ GITHUB ACTIONS PIPELINE (Triggered on git push)            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ STAGE 1-4: GitHub Cloud Runners                            â”‚
  â”‚ âœ“ Lint code                                                 â”‚
  â”‚ âœ“ Run tests                                                 â”‚
  â”‚ âœ“ Build Docker image                                        â”‚
  â”‚ âœ“ Push to Docker Hub (rupeedev/owasp-juice-shop:latest)   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ STAGE 5: YOUR LAPTOP (Self-Hosted Runner)                  â”‚
  â”‚ âœ“ Pull image from Docker Hub                               â”‚
  â”‚ âœ“ Connect to local Kind cluster                            â”‚
  â”‚ âœ“ kubectl apply -f k8s/deployment.yaml                     â”‚
  â”‚ âœ“ kubectl apply -f k8s/service.yaml                        â”‚
  â”‚ âœ“ Wait for pods to be Ready                                â”‚
  â”‚ âœ“ App running at http://localhost:30080                    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Pros of Self-Hosted Runner

  âœ… Fully Automated:
  - Push code â†’ Entire pipeline runs â†’ App deploys to your local K8s
  - No manual steps after git push

  âœ… Real CI/CD:
  - True end-to-end automation
  - Mimics production deployment

  âœ… Direct Access:
  - Runner can access your local Kind cluster
  - Can use localhost addresses
  - No networking complexity

  âœ… Cost-Effective for Local Dev:
  - No cloud K8s cluster needed
  - Test deployments locally before cloud

  âœ… Learning Experience:
  - Understand how self-hosted runners work
  - Common in enterprise environments

  Cons of Self-Hosted Runner

  âŒ Laptop Must Be Running:
  - Runner only works when your laptop is on and connected
  - Pipeline waits if laptop is offline

  âŒ Battery & Performance:
  - Runner consumes CPU/memory
  - Can drain battery on laptop

  âŒ Security Considerations:
  - Your laptop becomes part of CI/CD infrastructure
  - Need to secure runner token
  - Runner has access to your local environment

  âŒ Single Point of Failure:
  - If laptop crashes, deployment fails
  - No redundancy

  âŒ Maintenance:
  - Must keep runner updated
  - Troubleshoot runner issues

  âŒ Setup Complexity:
  - More moving parts
  - Runner installation and configuration
  - Service management

  Security Considerations

  âš ï¸ Important Security Notes:

  1. Token Security: The runner token gives access to your repo
  2. Local Access: Runner can access everything on your laptop
  3. Firewall: May need to allow runner connections
  4. Public Repos: Be careful with self-hosted runners on public repos (anyone can
  trigger workflows)

  When to Use Self-Hosted Runner

  Good For:
  - Learning CI/CD concepts
  - Testing deployment automation locally
  - Enterprise environments with on-premise infrastructure
  - Projects requiring specific hardware/software on runner

  Not Ideal For:
  - Laptops that sleep/shutdown frequently
  - Public repositories (security risk)
  - Team environments (everyone needs runner setup)
  - Production workloads

  Alternative: Simpler Approach

  If self-hosted runner seems too complex, you can use:

  Option B: Hybrid Approach
  GitHub Actions (Cloud):
    â†’ Lint, Test, Build, Push to Docker Hub

  Your Laptop (Manual or Script):
    â†’ Run deployment script to pull from Docker Hub and deploy to Kind

  This keeps CI/CD simple and deployment explicit.

  ---
  Would you like me to:
  1. Set up the self-hosted runner approach (fully automated)?
  2. Create a simpler deployment script (manual/script after pipeline)?
  3. Explain the trade-offs in more detail?

  Let me know which approach you'd prefer!


  larify how Stage 5 works with a self-hosted runner. This is a
   key concept to understand.

  How Self-Hosted Runner Stage 5 Works

  It's AUTOMATED, not manual!

  Here's the flow:

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ YOU: git push to GitHub                                      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ GITHUB: Receives your code, triggers workflow                â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ STAGE 1-4: Runs on GitHub's Cloud Runners                    â”‚
  â”‚ (ubuntu-latest = GitHub's cloud infrastructure)              â”‚
  â”‚                                                               â”‚
  â”‚ Stage 1: Lint (runs-on: ubuntu-latest) â† GitHub Cloud       â”‚
  â”‚ Stage 2: Test (runs-on: ubuntu-latest) â† GitHub Cloud       â”‚
  â”‚ Stage 3: Build (runs-on: ubuntu-latest) â† GitHub Cloud      â”‚
  â”‚ Stage 4: Push to Docker Hub (runs-on: ubuntu-latest) â† Cloudâ”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ GitHub looks for runner...    â”‚
          â”‚ Job needs: runs-on: self-hostedâ”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ GITHUB â†’ YOUR LAPTOP: Sends Stage 5 job to your runner      â”‚
  â”‚                                                               â”‚
  â”‚ GitHub Actions service sends the job over internet to        â”‚
  â”‚ the runner process running on your laptop                    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ YOUR LAPTOP: Self-hosted runner picks up the job            â”‚
  â”‚                                                               â”‚
  â”‚ The runner process (listening in background) says:           â”‚
  â”‚ "Oh, there's a job for me! Let me execute it..."            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ STAGE 5: Executes on YOUR LAPTOP (AUTOMATICALLY)            â”‚
  â”‚ (runs-on: self-hosted = Your laptop's runner)               â”‚
  â”‚                                                               â”‚
  â”‚ The runner executes these commands on your laptop:           â”‚
  â”‚ 1. Checkout code                                             â”‚
  â”‚ 2. kubectl cluster-info  â† Talks to your local Kind         â”‚
  â”‚ 3. kubectl apply -f k8s/deployment.yaml                      â”‚
  â”‚ 4. kubectl rollout status deployment/juice-shop              â”‚
  â”‚ 5. kubectl get pods                                           â”‚
  â”‚                                                               â”‚
  â”‚ âœ… App deployed to your local Kind cluster!                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ YOUR LAPTOP: Runner reports results back to GitHub          â”‚
  â”‚ "Stage 5 completed successfully! âœ…"                         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ GITHUB: Shows all 5 stages GREEN in Actions tab             â”‚
  â”‚ You can see the logs of what happened on your laptop!       â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Key Points

  1. Trigger = Same (git push)

  You only do ONE action: git push

  2. GitHub Actions Orchestrates Everything

  GitHub Actions service:
  - Runs Stage 1-4 on their cloud
  - Sees Stage 5 needs runs-on: self-hosted
  - Sends Stage 5 job to your laptop's runner
  - Waits for your runner to complete
  - Shows all results in GitHub UI

  3. Your Laptop's Runner = Background Service

  The runner on your laptop:
  - Runs as a background process (like a daemon/service)
  - Constantly polls GitHub: "Any jobs for me?"
  - When GitHub says "Yes, run this job"
  - Runner executes it locally
  - Reports results back to GitHub

  4. Zero Manual Steps After Setup

  Once runner is installed:
  # You only do this:
  git add .
  git commit -m "Update app"
  git push

  # Then AUTOMATICALLY:
  # - Stage 1-4 run on GitHub cloud âœ…
  # - Stage 5 runs on your laptop âœ…
  # - App deploys to local Kind âœ…
  # - You see GREEN pipeline âœ…

  # NO MANUAL KUBECTL COMMANDS NEEDED!

  The Runner Process

  On Your Laptop (One-time setup):

  # Start the runner service
  cd ~/actions-runner
  ./run.sh

  # Or install as background service
  ./svc.sh install
  ./svc.sh start

  What the Runner Does (Automatically):

  Runner Process on Your Laptop:
    â†“
    Polling GitHub every few seconds...
    "Any jobs for me? Any jobs for me?"
    â†“
    GitHub: "Yes! Run this Stage 5 job"
    â†“
    Runner: "Got it! Executing now..."
    â†“
    Runs kubectl commands locally
    â†“
    Reports back: "Stage 5 complete! âœ…"
    â†“
    Back to polling...

  Visual Example

  Without Self-Hosted Runner (Manual):

  # You do this manually:
  git push                                    # Manual step 1
  # Wait for pipeline...
  kubectl apply -f k8s/deployment.yaml        # Manual step 2
  kubectl rollout status deployment/juice-shop # Manual step 3

  With Self-Hosted Runner (Automated):

  # You ONLY do this:
  git push

  # Everything else happens automatically:
  # âœ… Stage 1-4 run on GitHub cloud
  # âœ… Stage 5 runs on your laptop (via runner)
  # âœ… App deploys to Kind
  # âœ… All GREEN in GitHub Actions UI

  # YOU DO NOTHING ELSE!

  How Runner Knows What to Execute

  The workflow file tells it:

  # .github/workflows/simple-pipeline.yml

  jobs:
    # These run on GitHub's cloud
    lint:
      runs-on: ubuntu-latest  # â† GitHub's cloud runner

    test:
      runs-on: ubuntu-latest  # â† GitHub's cloud runner

    build:
      runs-on: ubuntu-latest  # â† GitHub's cloud runner

    push-to-dockerhub:
      runs-on: ubuntu-latest  # â† GitHub's cloud runner

    # This runs on YOUR laptop
    deploy-to-kind:
      runs-on: self-hosted    # â† YOUR laptop's runner
      needs: push-to-dockerhub
      steps:
        - name: Deploy to Kind
          run: |
            kubectl apply -f k8s/deployment.yaml
            # â†‘ This kubectl command executes on YOUR laptop
            # It can access your local Kind cluster!

  Communication Flow

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Your Code  â”‚ git pushâ”‚   GitHub    â”‚  sends  â”‚ Your Laptop â”‚
  â”‚  (Local)    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚  (Cloud)    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚  (Runner)   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†“                         â†“
                          Runs Stage 1-4           Runs Stage 5
                          (Cloud runners)          (Self-hosted)
                                â†“                         â†“
                          Push to Docker Hub       Deploy to Kind
                                â†“                         â†“
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚   Reports back: All stages GREEN âœ…  â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  The Key Difference

  | Aspect       | GitHub Cloud Runner  | Self-Hosted Runner   |
  |--------------|----------------------|----------------------|
  | Location     | GitHub's data center | Your laptop          |
  | Access       | Internet only        | Can access localhost |
  | Kind Cluster | âŒ Cannot reach       | âœ… Can reach          |
  | Trigger      | GitHub Actions       | GitHub Actions       |
  | Execution    | Automatic            | Automatic            |
  | Manual Steps | Zero                 | Zero                 |

  So to Answer Your Question:

  "Is Stage 5 manual or will GitHub Action trigger it?"

  Answer: GitHub Actions automatically triggers Stage 5 on your locally-running runner.

  - NOT manual: You don't run kubectl yourself
  - Fully automated: GitHub Actions orchestrates everything
  - Local execution: Stage 5 executes on your laptop (via the runner)
  - One trigger: Single git push triggers entire pipeline (1-5)

  The Runner is Like a "Remote Control"

  Think of it like this:

  GitHub Actions = TV Remote
  Your Laptop's Runner = TV

  You press button on remote (git push)
    â†“
  Remote sends signal (Stage 5 job)
    â†“
  TV receives signal and executes (runner runs kubectl)
    â†“
  TV shows result (deployment succeeds)
    â†“
  Remote shows status (GitHub UI shows GREEN)

  The runner is always "listening" for commands from GitHub. When GitHub says "run
  this", the runner executes it automatically on your laptop.

  ---
  Does this clarify how Stage 5 works? It's automated, not manual - GitHub triggers it,
   but it runs on your machine!

    Proposed Extension: Steps 12-15

  What We'll Add:

  STEP 12: Create GitHub Personal Access Token (PAT) for Runner AuthenticationSTEP 13:
  Create Kubernetes Secret with GitHub CredentialsSTEP 14: Deploy GitHub Actions Runner
   Pod to Kind ClusterSTEP 15: Verify Runner Registration in GitHub

  This will enable the runner pod to:
  - Run inside your Kind cluster
  - Register automatically with your GitHub repository
  - Execute GitHub Actions workflows
  - Deploy applications to the same cluster

  Proposed Architecture After Extension:

  Your Laptop
  â””â”€â”€ Kind Cluster (Docker containers)
      â”œâ”€â”€ Control Plane Node
      â”œâ”€â”€ Worker Node 1
      â”‚   â”œâ”€â”€ GitHub Actions Runner Pod â† NEW!
      â”‚   â”‚   â””â”€â”€ Listens for workflow jobs
      â”‚   â””â”€â”€ Kube-ops-view Pod âœ…
      â”œâ”€â”€ Worker Node 2
      â””â”€â”€ (Future) Juice Shop Pods
          â””â”€â”€ Deployed by runner pod

  Key Design Decisions:

  1. Simplified Approach (Training-Friendly)

  - Use basic Kubernetes Deployment (no Helm)
  - Single runner pod (not scaled)
  - Easy to understand for beginners

  2. Runner Image

  - Use official myoung34/github-runner Docker image
  - Pre-configured for GitHub Actions
  - Supports in-cluster kubectl

  3. Authentication

  - GitHub PAT stored as Kubernetes Secret
  - Runner auto-registers on startup
  - No manual registration needed

  4. RBAC Permissions

  - ServiceAccount for runner pod
  - ClusterRole for deployment permissions
  - Can create/update/delete K8s resources

  Would you like me to proceed with implementing this extension?

  I'll:
  1. âœï¸ Write Steps 12-15 for /kind-k8s-setup slash command
  2. ğŸ“ Create runner deployment manifest (kind-k8s-cluster/github-runner.yaml)
  3. ğŸ”§ Extend /simple-pipeline-setup with Stage 5 (Deploy to Kind)
  4. ğŸ“„ Create Juice Shop K8s manifests (kind-k8s-cluster/juice-shop-deployment.yaml)
  5. ğŸ“š Update documentation